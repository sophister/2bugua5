# npm install ç‰ˆæœ¬å·^çš„å‘

![](./banner.png)



`npm`ä¸­ä¾èµ–ç‰ˆæœ¬å·æ˜¯ `^x.y.z`ï¼Œå¯ä»¥åŒ…å«å“ªäº›ç‰ˆæœ¬å‘¢ï¼Ÿ



ä»Šå¤©æœ‰åŒäº‹é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä»£ç é‡Œä¾èµ–çš„æŸä¸ª`npm`åŒ…ï¼Œå†™çš„æ˜¯ç‰ˆæœ¬æ˜¯  `hard-source-webpack-plugin@^0.12.0`ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œ `npm install` çš„æ—¶å€™ï¼Œå®‰è£…çš„å§‹ç»ˆæ˜¯ `0.12.0`è¿™ä¸ªç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯è¿™ä¸ªåŒ…çš„æœ€æ–°ç‰ˆ `0.13.1` ã€‚

åˆšå¼€å§‹ï¼Œæˆ‘è¿˜ä»¥ä¸ºæ˜¯å› ä¸ºæœ‰ `lock`çš„åŽŸå› ï¼Œæ¯”å¦‚æœ‰ `package-lock.json` æˆ–è€… `yarn.lock`ï¼Œæˆ‘è®¤è¯†æ˜¯æŸä¸ªlockæ–‡ä»¶é‡Œï¼Œé”å®šäº†ç‰ˆæœ¬ä¸º `0.12.0`ã€‚ä½†å®žé™…æƒ…å†µæ˜¯ï¼Œç”±äºŽä¹‹å‰åŒäº‹çš„ä»£ç æœ‰ç‚¹bugï¼Œè™½ç„¶æºç ä¸­çš„ç¡®æ˜¯æœ‰`package-lock.json` å’Œ `yarn.lock`æ–‡ä»¶çš„ï¼Œä½†æ˜¯å®žé™…å‘ç‰ˆçš„æ—¶å€™ï¼Œç”±äºŽä»£ç çš„bugï¼Œå¹¶æ²¡æœ‰å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å‘å¸ƒåˆ°`npm`ä»“åº“é‡Œã€‚

ç›®å‰çš„æƒ…å†µå°±æ˜¯ï¼Œ`package.json`é‡Œå†™çš„ç‰ˆæœ¬æ˜¯ `^0.12.0`ï¼Œè¿™ä¸ªåŒ…åœ¨ `npm`æºçš„æœ€æ–°ç‰ˆæ˜¯ `0.13.1`ã€‚ä½†æ˜¯é€šè¿‡npmå®‰è£…å‡ºæ¥ï¼Œå§‹ç»ˆæ˜¯0.12.0çš„ï¼Œå¹¶ä¸æ˜¯0.13.1ã€‚

æ ¹æ®ä¹‹å‰çš„ç†è§£ï¼Œè¯­ä¹‰çš„ç‰ˆæœ¬æ˜¯ `^0.12.0`ï¼Œé‚£ä¹ˆæ˜¯å¯ä»¥è¦†ç›–åˆ° **[major, minor, patch]** ä¸‰ä½ç‰ˆæœ¬ä¸­çš„ **åŽä¸¤ä½** çš„ï¼ŒæŒ‰ç†è¯´åº”è¯¥ä¼šè‡ªåŠ¨å®‰è£… 0.13.1 è¿™ä¸ªç‰ˆæœ¬å•Šã€‚

éš¾é“æ˜¯ç¼“å­˜çš„é”…ï¼Ÿå—¯ï¼Œæœ‰å¯èƒ½ï¼Œnpmçš„ç¡®æ˜¯åœ¨æœ¬åœ°æœ‰ç¼“å­˜çš„å•Šã€‚äºŽæ˜¯æ¸…é™¤æŽ‰æœ¬åœ°çš„ç¼“å­˜ `npm cache clean â€”force`ï¼Œå†é‡æ–°å®‰è£…ï¼ŒWFTï¼Ÿè¿˜æ˜¯ 0.12.0 å•Šï¼ï¼

çœ‹æ¥ä¸æ˜¯ç¼“å­˜çš„é”…ã€‚é‚£æ˜¯ç½‘ç»œé—®é¢˜ä¹ˆï¼Ÿä¹Ÿä¸æ˜¯ï¼Œæ¸…é™¤æŽ‰ç¼“å­˜éƒ½è¿˜æ˜¯èƒ½å®‰è£…åˆ° 0.12.0 ï¼Œç½‘ç»œè‚¯å®šæ˜¯OKçš„â€¦â€¦

è²Œä¼¼ï¼Œ*å®¢è§‚åŽŸå› * éƒ½æŽ’æŸ¥å¾—å·®ä¸å¤šäº†â€¦â€¦åªèƒ½ä»Ž *ä¸»è§‚æ–¹é¢* æ‰¾é—®é¢˜äº†ã€‚

ç‰ˆæœ¬å· `^0.12.0` ï¼ŒçœŸçš„åŒ…å«äº† `0.13.1` ä¹ˆï¼Ÿï¼Ÿ

å†ç¿»å‡º [npmç‰ˆæœ¬å®˜æ–¹æ–‡æ¡£](https://docs.npmjs.com/misc/semver#caret-ranges-123-025-004) çœ‹çœ‹ï¼Œå—¯ï¼Œä¹‹å‰çš„ç¡®ç†è§£é”™äº†ã€‚æ–‡æ¡£é‡Œæ˜Žç¡®è¯´äº†ï¼Œ`^`æŒ‡æ˜Žçš„ç‰ˆæœ¬èŒƒå›´ï¼Œåªè¦**ä¸**ä¿®æ”¹ **[major, minor, patch]** ä¸‰å…ƒç»„ä¸­ï¼Œ**æœ€å·¦ä¾§çš„ç¬¬ä¸€ä¸ªéž0ä½**ï¼Œéƒ½æ˜¯å¯ä»¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¦ç¡®å®š `^`ç‰ˆæœ¬åŒ…å«çš„èŒƒå›´ï¼Œå…ˆè¦æ‰¾åˆ° **æœ€å·¦ä¾§çš„ç¬¬ä¸€ä¸ªéž0ä½** ï¼Œåªæœ‰åœ¨è¿™ä¸€ä½å³ä¾§çš„å˜åŠ¨ï¼Œæ‰è¢«åŒ…å«åœ¨è¿™ä¸ª `^` æŒ‡å®šçš„èŒƒå›´å†…ã€‚ä¸¾ä¸ªðŸŒ°ï¼š

* `^1.2.3`ç‰ˆæœ¬åŒ…æ‹¬ï¼š>= `1.2.3` å¹¶ä¸” < `2.0.0`
* `^0.2.3`ç‰ˆæœ¬åŒ…æ‹¬ï¼š>= `0.2.3` å¹¶ä¸” < `0.3.0`
* `^0.0.3`ç‰ˆæœ¬åŒ…æ‹¬ï¼š>= `0.0.3` å¹¶ä¸” < `0.0.4`



åŒæ—¶ï¼Œåœ¨å®˜ç½‘è¿˜æ‰¾åˆ°ä¸€ä¸ª `npm`å‘½ä»¤è¡Œå·¥å…·ï¼š`semver`ï¼Œå¯ä»¥å®‰è£…åˆ°å…¨å±€ï¼š`npm i -g semver` ï¼Œä¹‹åŽï¼Œå¯ä»¥ç”¨è¿™ä¸ªå·¥å…·æ¥æ£€æŸ¥æŸä¸ªèŒƒå›´ç‰ˆæœ¬å…·ä½“åŒ…å«å“ªäº›ï¼Œæ‹¿ä»Šå¤©é‡åˆ°çš„é—®é¢˜ï¼Œå°±å¯ä»¥è¿™æ ·ï¼š

```shell
bogon:~ jess$ semver -r ^0.12.0 0.12.0 0.13.0 0.13.1
0.12.0
bogon:~ jess$
bogon:~ jess$ semver -r ^0.12.0 0.12.0 0.12.1 0.12.10 0.13.0 0.13.1
0.12.0
0.12.1
0.12.10
bogon:~ jess$
bogon:~ jess$
```



**PS** ï¼š

æˆ‘ä»¬ç›®å‰åœ¨åº”ç”¨çš„ä»£ç é‡Œï¼Œä¸ºäº†é˜²æ­¢æŸäº›åŒ…åœ¨å‡çº§è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼Œå¯¼è‡´æˆ‘ä»¬åº”ç”¨åœ¨æ¯æ¬¡æ‰“åŒ…åŽï¼Œç”Ÿæˆçš„ä»£ç å¯èƒ½ä¸åŒï¼Œä¸€èˆ¬éƒ½ä¼šç”¨ `yarn.lock` æˆ–è€… `package-lock.json` æ¥é”å®šé¡¹ç›®ä¾èµ–çš„åŒ…çš„ç‰ˆæœ¬å·ã€‚

ä½†æ˜¯ä¸Šæ¬¡æœ‰åŒå­¦åœ¨å¼€æºçš„ **ç¬¬ä¸‰æ–¹åŒ…** é‡Œï¼Œå‘çŽ°å¤§å¤šæ•°éƒ½**æ²¡æœ‰** `yarn.lock` æˆ–è€… `package-lock.json`ï¼Œæ„Ÿåˆ°æœ‰ç‚¹å¥‡æ€ªï¼Œä¸ºä»€ä¹ˆè¿™äº›å¼€æºçš„åŒ…ï¼Œä¸é”å®šä¾èµ–çš„ç¬¬ä¸‰æ–¹ç‰ˆæœ¬å‘¢ï¼Ÿ

æˆ‘çš„ç†è§£ï¼Œå¤§æ¦‚æ˜¯è¿™ä¸¤ä¸ªæ–¹é¢ï¼š

1. éƒ½è¯´`nodejs`çš„ `node_modules`æ˜¯ä¸ªæ¯”é»‘æ´žè¿˜æ·±çš„å‘ï¼Œå¯è§é€šå¸¸åœ¨æˆ‘ä»¬ä¸€ä¸ªåº”ç”¨é‡Œï¼Œä¼šä¾èµ–å¤šå°‘çš„ç¬¬ä¸‰æ–¹å¼€æºåŒ…ã€‚æ¯ä¸€ä¸ªå¼€æºåŒ…ï¼Œåˆä¼šä¾èµ–å¾ˆå¤šåˆ«çš„åŒ…ã€‚å¦‚æžœæ¯ä¸ªå¼€æºåŒ…éƒ½é”å®šè‡ªå·±çš„ä¾èµ–ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå¾ˆå¤šåº•å±‚çš„åŸºç¡€åŒ…ï¼Œå¯èƒ½ä¼šè¢«å®‰è£…å¾ˆå¤šä¸ªï¼Œè™½ç„¶åªæ˜¯ `patch` éƒ¨åˆ†å­˜åœ¨ç‰ˆæœ¬å·®å¼‚ï¼Œé‚£å‰ç«¯ä»£ç æ‰“åŒ…ä¹‹åŽï¼Œä½“ç§¯æ— ç–‘ä¼šå¢žå¤§å¾ˆå¤šã€‚å› æ­¤ï¼Œå¼€æºåŒ…ä¸ºäº†å’Œå…¶ä»–çš„å¼€æºåŒ… **å…±äº«** æ›´åº•å±‚çš„åŒ…ï¼Œå°±ä¸èƒ½é”å®šè‡ªå·±çš„ç‰ˆæœ¬
2. å…¶å®žç¬¬ä¸€ç‚¹å·²ç»è¯´æ˜Žäº†é—®é¢˜ï¼Œä½œä¸ºå¼€æºåŒ…çš„ä½œè€…ï¼Œå¯èƒ½ä¹Ÿæ²¡æœ‰å…¶ä»–é€‰æ‹©äº†ï¼Œåªèƒ½é€‰æ‹©**ç›¸ä¿¡** å…¶ä»–çš„å¼€æºåŒ…ä½œè€…ï¼Œéƒ½ä¼šä¸¥æ ¼éµå®ˆ **è¯­ä¹‰åŒ–ç‰ˆæœ¬** çš„è¦æ±‚



## ç›¸å…³æ–‡æ¡£



* [npmè¯­ä¹‰åŒ–ç‰ˆæœ¬](https://docs.npmjs.com/misc/semver#caret-ranges-123-025-004)



â€‹          â€”â€”æ—¶2019å¹´5æœˆ16æ—¥ 20:20 ç«£å·¥äºŽå¸éƒ½äº”é“å£æ¸…åŽç§‘æŠ€å›­