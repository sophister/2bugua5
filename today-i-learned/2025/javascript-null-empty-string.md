# Javascript: null == ""ï¼Œtrue è¿˜æ˜¯ false



## é—®é¢˜

æœ€è¿‘é‡åˆ°ä¸€ä¸ªç”Ÿäº§é—®é¢˜ï¼ŒåŸå§‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
let levelCode = "";
if (this.$store.state.levelCode4 == "") {
  levelCode = this.$store.state.levelCode3;
} else {
  levelCode = this.$store.state.levelCode4;
}
```

å…¶å®çœ‹å‰è¾ˆçš„ä»£ç ï¼Œè¿˜æ˜¯åŸºæœ¬èƒ½çŒœåˆ°ä»–çš„æ„å›¾ï¼Œ`levelCode` å­—æ®µä¼˜å…ˆå– `levelCode4` ï¼Œå¦‚æœæ²¡æœ‰å€¼ï¼Œé‚£ä¹ˆå°±å– `levelCode3`ã€‚çœ‹è¿™ä¸ªæ„æ€ï¼Œæœ‰å¯èƒ½å­˜åœ¨ `levelCode4` ä¸ºç©ºçš„æƒ…å†µã€‚ä½†æ ¹æ®çº¿ä¸Šåé¦ˆï¼Œæœ‰ç”¨æˆ·è¯·æ±‚é‡Œå¹¶æ²¡æœ‰å¸¦ä¸Š `levelCode` ï¼Œé€šè¿‡è¯¥è´¦å·çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å‘ç°å¯¹æ–¹çš„æ•°æ®æ˜¯è¿™æ ·çš„ï¼š

```json
{
    levelCode4: null,
    levelCode3: "xxxx"
}
```

çœ‹è¿™ä¸ªæ•°æ®ï¼Œæˆ‘æƒ³ä¸åº”è¯¥å•Šï¼Œèµ°åˆ° `if` åˆ†æ”¯çš„æ—¶å€™ï¼Œåº”è¯¥å°±èƒ½åˆ¤æ–­å‡ºæ¥ï¼Œç›´æ¥å– `levelCode3` äº†ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰é—®é¢˜å‘¢ï¼Ÿæ¯•ç«Ÿ `null == ""` è¿™ä¸ªåº”è¯¥æ˜¯ `true` ï¼Œæ²¡æœ‰ä»€ä¹ˆç–‘é—®ã€‚

çœ¼ç›çœ‹ä¸å‡ºé—®é¢˜ï¼Œé‚£å°±åªèƒ½ä¸Šæ–­ç‚¹äº†â€¦â€¦

åŸæ¥ï¼Œ`null == ""` è¿™ä¸ªè¡¨è¾¾å¼çš„å€¼æ˜¯ `false` ï¼ï¼

æŠŠä¸Šé¢ä»£ç å‘åˆ°ä¸€ä¸ªç¾¤é‡Œï¼Œå¥½åƒå¤§éƒ¨åˆ†åŒå¿—ä¹Ÿæ²¡èƒ½ä¸€çœ¼çœ‹å‡ºè¿™ä¸ªé—®é¢˜ï¼Œè¿˜å¥½å¥å¿˜çš„ä¸æ­¢æˆ‘ä¸€ä¸ªğŸ¤£

è¿˜æ˜¯é—®é—®ChatGPTå§ï¼ˆsorry è°·å“¥ï¼Œä½ åšå¾—å¾ˆå¥½ï¼Œä½†ä½ å·²ç»ä¸é€‚åˆæˆ‘äº†ğŸ™„ï¼‰ï¼Œç»™å‡ºçš„ç­”æ¡ˆæ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯éƒ¨åˆ†çŸ¥è¯†ç‚¹è¯´çš„ä¸å¤Ÿå®Œæ•´ã€‚

> åœ¨ JavaScript ä¸­ï¼Œè¡¨è¾¾å¼ `null == ""` çš„ç»“æœæ˜¯ `false`ã€‚è¿™æ˜¯å› ä¸ºåœ¨ä½¿ç”¨å®½æ¾ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ`==`ï¼‰æ—¶ï¼ŒJavaScript ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼ˆType Coercionï¼‰ä»¥æ¯”è¾ƒä¸åŒç±»å‹çš„å€¼ã€‚ä»¥ä¸‹æ˜¯è¯¥è¡¨è¾¾å¼æ±‚å€¼è¿‡ç¨‹çš„è¯¦ç»†æ­¥éª¤ï¼ŒåŒ…æ‹¬æ¶‰åŠçš„ç±»å‹è½¬æ¢ï¼Œå¹¶é™„ä¸Šç›¸å…³çš„ MDN æ–‡æ¡£é“¾æ¥ï¼š
>
> 1. **ç†è§£æ“ä½œæ•°çš„ç±»å‹å’Œå€¼**ï¼š
>    - å·¦æ“ä½œæ•°ï¼š`null`ï¼Œè¡¨ç¤ºâ€œæ— å€¼â€æˆ–â€œç©ºå€¼â€ã€‚ îˆ€citeîˆ‚turn0search2îˆ
>    - å³æ“ä½œæ•°ï¼š`""`ï¼Œä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œç±»å‹ä¸ºå­—ç¬¦ä¸²ã€‚
> 2. **åº”ç”¨å®½æ¾ç›¸ç­‰è¿ç®—ç¬¦çš„è§„åˆ™**ï¼š æ ¹æ® JavaScript çš„å®½æ¾ç›¸ç­‰æ¯”è¾ƒè§„åˆ™ï¼Œå½“æ¯”è¾ƒ `null` æˆ– `undefined` ä¸å…¶ä»–å€¼æ—¶ï¼Œåªåœ¨ä¸ `null` æˆ– `undefined` äº’ç›¸æ¯”è¾ƒæ—¶æ‰ä¼šè¿”å› `true`ã€‚å¦åˆ™ï¼Œ`null` å’Œ `undefined` åªä¸è‡ªèº«ç›¸ç­‰ï¼Œä¸ä¼šä¸å…¶ä»–ç±»å‹çš„å€¼ç›¸ç­‰ã€‚ 
> 3. **å…·ä½“æ¯”è¾ƒè¿‡ç¨‹**ï¼š
>    - `null` ä»…ä¸ `undefined` ç›¸ç­‰ï¼Œå³ `null == undefined` ä¸º `true`ã€‚
>    - `null` ä¸ä»»ä½•å…¶ä»–å€¼ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ç­‰ï¼‰æ¯”è¾ƒæ—¶ï¼Œéƒ½ä¼šè¿”å› `false`ã€‚
>
> å› æ­¤ï¼Œ`null == ""` çš„ç»“æœæ˜¯ `false`ï¼Œå› ä¸º `null` åªä¸ `undefined` ç›¸ç­‰ï¼Œè€Œä¸ä¸ç©ºå­—ç¬¦ä¸²ç›¸ç­‰ã€‚
>
> **æ³¨æ„**ï¼šåœ¨è¿›è¡Œç›¸ç­‰æ¯”è¾ƒæ—¶ï¼Œå»ºè®®ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ`===`ï¼‰ï¼Œå› ä¸ºå®ƒä¸ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¦æ±‚å€¼å’Œç±»å‹éƒ½ç›¸åŒã€‚ä¾‹å¦‚ï¼Œ`null === ""` ä¹Ÿä¼šè¿”å› `false`ï¼Œå› ä¸ºå®ƒä»¬çš„ç±»å‹ä¸åŒ



æ ¹æ®MDNæ–‡æ¡£ï¼Œä¹Ÿæ˜ç¡®æåˆ°äº† `null` æˆ–è€… `undefined` åœ¨å‚ä¸ `==` æ¯”è¾ƒçš„è§„åˆ™ï¼š

> If one of the operands is `null` or `undefined`, the other must also be `null` or `undefined` to return `true`. Otherwise return `false`.

æ„æ€ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå½“æœ‰ `null` æˆ–è€… `undefined` å‚ä¸ `==` æ¯”è¾ƒæ—¶ï¼Œåªæœ‰ä¸‹é¢è¿™äº›è¡¨è¾¾å¼æ‰ä¸º `true`

```javascript
null == null // true
null == undefined // true
undefined == undefined // true
undefined == null // true
```



## æ€ä¹ˆå†™

å…¶å®å›åˆ°ä¸Šé¢è¿™ä¸ªbugï¼Œé€šå¸¸æˆ‘ä»¬ä¸ä¼šè¿™æ ·å»åˆ¤æ–­ï¼Œä¸€èˆ¬æœ‰ä¸‹é¢2ç§æ–¹å¼å§

1. ä½¿ç”¨ é`!` æ¥åˆ¤æ–­æ˜¯å¦ä¸ºç©º  `if (!this.$store.state.levelCode4) {levelCode = levelCode3}`
2. ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ `levelCode = this.$store.state.levelCode4 || levelCode3`

ä¸Šé¢çš„åˆ¤æ–­ ï¼Œä¼šè€ƒè™‘ `levelCode4` æ˜¯ `null/undefined/ç©ºå­—ç¬¦ä¸²/false/0` ç­‰æƒ…å†µä¸‹ï¼Œéƒ½ä¼šä½¿ç”¨ `levelCode3` æ¥èµ‹å€¼ã€‚



å¦‚æœæˆ‘ä»¬åªå¸Œæœ›åœ¨ `levelCode4` æ˜¯ `null/undefined` è¿™ç§æƒ…å†µä¸‹æ‰ç”¨ `levelCode3` ï¼Œé‚£å¯ä»¥ç”¨æ–°ä¸€äº›çš„JavaScriptè¯­æ³•â€”â€”ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦??ï¼š

`const levelCode = this.$store.state.levelCode4 ?? levelCode3;`



* [MDNç­‰äºåˆ¤æ–­ï¼ˆ==ï¼‰](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality)
* [MDNç©ºå€¼åˆå¹¶è¿ç®—ç¬¦](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing)